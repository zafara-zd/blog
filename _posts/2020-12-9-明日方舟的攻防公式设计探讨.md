---
layout: post
title: 明日方舟的攻防公式设计探讨
date: 2020-12-9
Author: Zafara
tags: [游戏设计分析]
comments: true
toc: true

---

# 一. 攻防公式设计 

 明日方舟最基础的攻防公式分两种：

1. 物理攻击：伤害=攻击力-物理防御力

2. 法术攻击：伤害=攻击力*（100-法术防御力）/100

 在此之上，存在保底伤害机制：

  伤害MIN=攻击力*5%

 鉴于游戏是一个复杂系统，攻防公式设计影响的也不单纯是干员和敌人的战斗，而是从游戏的角色设计、关卡设计、战斗设计到玩家的角色培养等等都受到巨大影响。

# 二. 攻防公式设计特点和影响

###   物理攻防公式：

1. 攻击力被拆分为两部分：抵消防御力的攻击和造成实际伤害的攻击。使得一旦攻击力达到抵消防御力的阈值，每增加一点攻击力，就增加一点伤害。针对特定防御力敌人用图像模式表现的话，横坐标攻击力，纵坐标伤害。那么曲线将先是极度平缓的直线，到达阈值（等于敌人防御力的攻击力）时呈45°提升。

2. 这种设计使得敌人可以根据物理防御力硬性地决定哪些物理攻击干员可以造成有效伤害。随着防御力增高，能有效造成伤害的物理攻击干员将减少，直到最后将无人能造成有效伤害。

3. 因此，敌人的设计可根据物理防御力划分为多个层次：从无甲到重甲。基于防御力不同，使得干员的DPH（damage per hit）和DPS(damage per second)可以分离并进行特化性设计。即干员的攻击属性可由两个维度设计：攻击频率、单次攻击伤害。同时，敌人的攻击也会基于干员的防御力划分为多个层次：从弱攻击到无法抵挡的超高攻击力。

4. 继而出现的两个极限：攻击频率高单次攻击伤害低：能天使、攻击频率低单次攻击伤害高：早露。

5. 从输出最大化的角度来谈，需要综合考虑超过防御力的攻击力和攻击频率成本。

6. 从设计角度来谈增加总DPS辅助，提高攻击频率比提高攻击力要稳妥。即提高5%攻击速度，往往就是提高5%总输出。而提高5%攻击力，就难以计算。对敌人降低X防御力，对于防御力超过X的敌人，等同于所有攻击此敌人的干员增加X攻击力。无视X防御力，对于防御力超过X的敌人，等同于增加X攻击力。由于X往往数值不算高，若防御力显著低于X，通常该类敌人在设计上属于低威胁敌人。

7. 从干员培养角度来说：一旦练度低于关卡需求，即数值没达到关卡设计的预制标准，物理攻击将基本发挥不出作用。一方面使得物理攻击干员练度收益高，另一方面也由于练度上限的存在而限制关卡练度要求的上限。

8. 从关卡设计角度来说：一方面意味着未来提高难度将无法单纯以提高数值的方式，而必须通过机制。不然将导致物理攻击干员彻底失去作用。另一方面意味着玩家一旦练度过高，难度将大幅度降低。

 **物理攻击公式总结**：使得敌人在设计时可基于甲的厚度做出类型区分，并基于甲厚度类型反推干员设计。干员的设计维度存在攻击频率和单次攻击伤害两个元素，其中单次攻击伤害可基于敌人甲厚度进行细化区分。不过由于攻击力提高带来的收益，使得攻击力提升类辅助难以设计平衡。现有的攻击力增加辅助都有着极大的限制，使得相对于多样的策略，更像是耍花活。

 从关卡设计的角度来谈，此类设计限制关卡敌人数值上限且低练度难以使用物理攻击干员通关，但同时也保证玩家在高练度情况下可相对无脑通关。从设计角度上，很大程度促使玩家提高练度。估计数值策划会有不同定位的敌人，并基于推荐练度和防御力有曲线模型，方便进行敌人数值设计。



###   法术攻防公式：

1. 由于法术攻防公式的特点，使得单次法术攻击伤害和法术攻击频率上在伤害层面上不会有本质区别。且再低的法术攻击也能造成一定伤害，再高的法术攻击也不至于过于超模。

2. 这种设计使得大量辅助干员得以实现。此类干员自身输出较低，但往往有额外功能性效果：增伤、减速、部署召唤物等等。若采用物理攻防公式，则难以平衡此类干员输出。要么完全没有输出，要么破坏平衡地提供过多输出。通过法术攻防公式，可以放心调整此类干员攻击力以进行平衡。

3. 这种设计也使得法术增伤型干员容易设计。鉴于法术增伤增加的伤害仍旧会被法术防御按照百分比进行防御，使得平衡起来相对容易。只需要考虑单次buff潜在收益者数量和伤害可能性即可。

4. 但这种设计使得法术穿透收益极高。10%的法术穿透，对于至少10%法术防御的敌人，并非单纯增加10%输出。在10%穿透情况下，面对10%、50%、90%法术防御的敌人，伤害增加分别为：11.1%、20%、100%。不过由于法术防御越高，使用法术攻击本身收益越低，且法术穿透往往不会太高，通过此来进行平衡。

5. 法术防御降低buff则随着敌方法术防御越高，效果越显著。同样是尽管法术防御高效果好，但本身更不适合用法术攻击。而法术提高buff由于通常敌人和干员法术防御较低，收益很低。因此会配合使用增加法术防御，继而提供极高的收益。（夜莺）

6. 从干员培养角度来谈，法术攻击干员并不需要较高练度。除非特定输出型特化干员，例如史尔特尔，有极高的练度收益，绝大多数法术攻击干员练度无需拉高。这使得辅助型干员更易培养，潜在地鼓励玩家使用辅助型干员和增加辅助型干员出场率。

7. 从关卡设计角度来说，法术伤害和物理伤害可以对玩家两方面施压，也可以两方面挑战玩家的应对能力。使得能够防御对应攻击的干员有特定效果，例如物防特化和法防特化可以在特定场合下有极高运用价值，增加干员和敌人多样性设计可能性。

  **法术攻击公式总结**：使得干员可以在不同练度下都能造成有效输出，并且保证低输出高功能性干员的设计可能性。且法术相关辅助更容易平衡和设计，数值无论怎样提高，输出也会受到敌方法术防御的限制。也因此降低法术防御和无视法术防御会很有价值。

  从关卡设计角度，可以保证敌人的多样化，继而间接保证干员设计的多样化。但由于夜莺的存在，使得设计师难以在不引入新机制的前提下，大幅度使用法术攻击型敌人。



###   保底伤害：

1. 鉴于基本不会设计法术防御超过95%的敌人，且物理攻击公式的阈值性质，使得保底伤害基本是专门为物理攻击公式补充设计。

2. 保底伤害避免游戏陷入死局：即干员和敌人因无法造成伤害，而让局势卡停。

3. 保底伤害保证高频率攻击型干员仍旧能造成输出，尽管输出很低，但仍旧避免高频率攻击型干员彻底无用化。（阿能过载抛光死大盾）



###   混合运用下的影响：

  1. 两种战斗公式保证了游戏的多样性：无论是干员设计、敌人设计还是关卡设计。同时也互相最大程度的弥补了两个公式的优缺点。也让玩家可以田忌赛马式地对抗敌人：法抗高用物攻，物抗高用法攻（瑕光SS最终的双子BOSS）



# 三. 补充

 就目前的明日方舟（2020/12/9）的功能中，缺乏一个很有意义的功能，即可在关卡中调整最高练度。除了让部分挑战型玩家获得更有趣的挑战，还能让攻略型玩家和研究型玩家更方便测试和制作攻略并服务于不愿花时间想策略的玩家，使得几乎所有类型的玩家都可以直接或间接地从中受益。

 准备之后随笔详细基于特定关卡的敌人、推荐练度进行进一步分析。
